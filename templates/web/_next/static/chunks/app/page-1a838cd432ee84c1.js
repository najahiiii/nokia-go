(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{57162:function(e,t,l){Promise.resolve().then(l.bind(l,33778))},33778:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return eo}});var a=l(57437),n=l(12161),s=l(17580),d=l(69430),r=l(21047),i=l(27648),o=l(2265),c=l(21555),u=l(35974),x=l(62869),m=l(66070),v=l(95186),p=l(32759),f=l(1828),g=l(6741),h=l(73966),b=l(1353),j=l(71599),y=l(66840),N=l(29114),w=l(80886),C=l(99255),B="Tabs",[S,k]=(0,h.b)(B,[b.Pc]),D=(0,b.Pc)(),[T,M]=S(B),_=o.forwardRef((e,t)=>{let{__scopeTabs:l,value:n,onValueChange:s,defaultValue:d,orientation:r="horizontal",dir:i,activationMode:o="automatic",...c}=e,u=(0,N.gm)(i),[x,m]=(0,w.T)({prop:n,onChange:s,defaultProp:null!=d?d:"",caller:B});return(0,a.jsx)(T,{scope:l,baseId:(0,C.M)(),value:x,onValueChange:m,orientation:r,dir:u,activationMode:o,children:(0,a.jsx)(y.WV.div,{dir:u,"data-orientation":r,...c,ref:t})})});_.displayName=B;var I="TabsList",R=o.forwardRef((e,t)=>{let{__scopeTabs:l,loop:n=!0,...s}=e,d=M(I,l),r=D(l);return(0,a.jsx)(b.fC,{asChild:!0,...r,orientation:d.orientation,dir:d.dir,loop:n,children:(0,a.jsx)(y.WV.div,{role:"tablist","aria-orientation":d.orientation,...s,ref:t})})});R.displayName=I;var E="TabsTrigger",A=o.forwardRef((e,t)=>{let{__scopeTabs:l,value:n,disabled:s=!1,...d}=e,r=M(E,l),i=D(l),o=L(r.baseId,n),c=V(r.baseId,n),u=n===r.value;return(0,a.jsx)(b.ck,{asChild:!0,...i,focusable:!s,active:u,children:(0,a.jsx)(y.WV.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:o,...d,ref:t,onMouseDown:(0,g.Mj)(e.onMouseDown,e=>{s||0!==e.button||!1!==e.ctrlKey?e.preventDefault():r.onValueChange(n)}),onKeyDown:(0,g.Mj)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&r.onValueChange(n)}),onFocus:(0,g.Mj)(e.onFocus,()=>{let e="manual"!==r.activationMode;u||s||!e||r.onValueChange(n)})})})});A.displayName=E;var U="TabsContent",P=o.forwardRef((e,t)=>{let{__scopeTabs:l,value:n,forceMount:s,children:d,...r}=e,i=M(U,l),c=L(i.baseId,n),u=V(i.baseId,n),x=n===i.value,m=o.useRef(x);return o.useEffect(()=>{let e=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,a.jsx)(j.z,{present:s||x,children:l=>{let{present:n}=l;return(0,a.jsx)(y.WV.div,{"data-state":x?"active":"inactive","data-orientation":i.orientation,role:"tabpanel","aria-labelledby":c,hidden:!n,id:u,tabIndex:0,...r,ref:t,style:{...e.style,animationDuration:m.current?"0s":void 0},children:n&&d})}})});function L(e,t){return"".concat(e,"-trigger-").concat(t)}function V(e,t){return"".concat(e,"-content-").concat(t)}P.displayName=U;var O=l(94508);let F=o.forwardRef((e,t)=>{let{className:l,...n}=e;return(0,a.jsx)(R,{ref:t,className:(0,O.cn)("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",l),...n})});F.displayName=R.displayName;let z=o.forwardRef((e,t)=>{let{className:l,...n}=e;return(0,a.jsx)(A,{ref:t,className:(0,O.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",l),...n})});z.displayName=A.displayName;let W=o.forwardRef((e,t)=>{let{className:l,...n}=e;return(0,a.jsx)(P,{ref:t,className:(0,O.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",l),...n})});W.displayName=P.displayName;var Z=l(81103);function G(e){let{title:t,description:l,action:n,children:s}=e;return(0,a.jsxs)(m.Zb,{className:"border-border/70 bg-card/80 text-card-foreground",children:[(0,a.jsxs)(m.Ol,{className:"flex flex-row items-start justify-between gap-4 pb-4",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(m.ll,{className:"text-base font-semibold leading-none text-foreground",children:t}),l?(0,a.jsx)(m.SZ,{className:"text-xs text-muted-foreground",children:l}):null]}),n?(0,a.jsx)("div",{className:"flex items-center gap-2",children:n}):null]}),(0,a.jsx)(m.aY,{className:"space-y-4 text-sm text-muted-foreground",children:s})]})}function H(e){let{data:t,ledEnabled:l,ledBusy:n,onToggleLed:s,onRenewIp:d,renewing:r,onReboot:i,rebooting:o,onOpenWanDetails:c,onExtendData:u,onCustomExpirySubmit:x,onCustomExpiryChange:m,customExpiry:v,expiryBusy:p,onOpenSimInfo:f}=e;return(0,a.jsxs)("div",{className:"grid gap-6 xl:grid-cols-[1.2fr,1fr]",children:[(0,a.jsxs)("section",{className:"grid gap-6",children:[(0,a.jsx)(X,{statusWeb:t.statusWeb,serviceData:t.serviceData,cellIdentification:t.cellIdentification,wanStatus:t.wanStatus,preloginStatus:t.preloginStatus,onOpenWanDetails:c,onOpenSimInfo:f,simInfo:t.simInfo}),(0,a.jsx)(Y,{dailyUsage:t.dailyUsage}),(0,a.jsx)(el,{dataExpired:t.dataExpired,onExtendThirtyDays:()=>u(2592e3),onSubmit:x,onDateChange:m,dateValue:v,busy:p})]}),(0,a.jsxs)("section",{className:"grid gap-6",children:[(0,a.jsx)(K,{ledEnabled:l,ledBusy:n,onToggleLed:s,onRenewIp:d,renewing:r,onReboot:i,rebooting:o,onOpenWanDetails:c}),(0,a.jsx)($,{deviceStatus:t.deviceStatus}),(0,a.jsx)(ee,{wlan24:t.wlan24,wlan5:t.wlan5}),(0,a.jsx)(et,{preloginStatus:t.preloginStatus})]})]})}function X(e){var t,l,s,d,r,i,u,m,v,f,g,h,b,j,y,N,w,C,B,S,k,D,T,M,I,R,E,A,U,P;let{statusWeb:L,serviceData:V,cellIdentification:O,wanStatus:H,preloginStatus:X,onOpenWanDetails:$,onOpenSimInfo:J,simInfo:Q}=e,Y=null!==(b=null==L?void 0:null===(l=L.cell_LTE_stats_cfg)||void 0===l?void 0:null===(t=l[0])||void 0===t?void 0:t.stat)&&void 0!==b?b:{},K=[{label:"Band",value:Y.Band},{label:"PCI",value:Y.PhysicalCellID},{label:"EARFCN",value:Y.DownlinkEarfcn},{label:"ECI",value:Y.ECI}],ee=[{label:"RSRP",value:(0,c.$2)(Y.RSRPCurrent,"dBm"),percent:(0,c.gb)(Y.RSRPCurrent,-140,-64)},{label:"RSRQ",value:(0,c.$2)(Y.RSRQCurrent,"dB"),percent:(0,c.gb)(Y.RSRQCurrent,-20,-3)},{label:"SNR",value:(0,c.$2)(Y.SNRCurrent,"dB"),percent:(0,c.gb)(Y.SNRCurrent,-10,30)},{label:"RSSI",value:(0,c.$2)(Y.RSSICurrent,"dBm"),percent:(0,c.gb)(Y.RSSICurrent,-120,-30)}],{downlink:et,uplink:el}=(0,o.useMemo)(()=>{var e;let t=e=>Array.isArray(e)?e:e&&"object"==typeof e?Object.values(e):[],l=null!==(e=null==V?void 0:V.FunctionResult)&&void 0!==e?e:{};return{downlink:t(null==l?void 0:l.LTEDLCA),uplink:t(null==l?void 0:l.LTEULCA)}},[V]),en=(null!==(j=null==et?void 0:et.length)&&void 0!==j?j:0)>0||(null!==(y=null==el?void 0:el.length)&&void 0!==y?y:0)>0,es=null!==(C=null!==(w=null!==(N=null==O?void 0:null===(s=O.FunctionResult)||void 0===s?void 0:s.Name)&&void 0!==N?N:null==O?void 0:O.Name)&&void 0!==w?w:null==O?void 0:null===(d=O.functionResult)||void 0===d?void 0:d.Name)&&void 0!==C?C:null,ed=null!==(B=null==X?void 0:null===(u=X.wan_conns)||void 0===u?void 0:null===(i=u[0])||void 0===i?void 0:null===(r=i.ipConns)||void 0===r?void 0:r[0])&&void 0!==B?B:{},er=null!==(S=null==H?void 0:null===(f=H.wan_conns)||void 0===f?void 0:null===(v=f[0])||void 0===v?void 0:null===(m=v.ipConns)||void 0===m?void 0:m[0])&&void 0!==S?S:{},ei=null!==(k=(0,c.SR)(X))&&void 0!==k?k:"—",eo=null!==(T=null!==(D=er.X_CT_COM_IPv6IPAddress)&&void 0!==D?D:ed.X_CT_COM_IPv6IPAddress)&&void 0!==T?T:"—",ec=null!==(M=null==ed?void 0:ed.DNSServers)&&void 0!==M?M:"—",eu=null!==(I=null==ed?void 0:ed.X_CT_COM_IPv6DNSServers)&&void 0!==I?I:"—",ex=null!==(E=null!==(R=er.DefaultGateway)&&void 0!==R?R:ed.DefaultGateway)&&void 0!==E?E:"—",em=null!==(U=null!==(A=er.ConnectionStatus)&&void 0!==A?A:ed.ConnectionStatus)&&void 0!==U?U:"Unknown",ev=null!==(P=null==X?void 0:null===(h=X.device_cfg)||void 0===h?void 0:null===(g=h[0])||void 0===g?void 0:g.X_ALU_COM_LastActiveTime)&&void 0!==P?P:null,ep=(0,c._o)(ev),ef="string"==typeof ev&&""!==ev.trim()&&"—"!==ep&&ep!==ev?"".concat(ep," • ").concat(ev):ep;return(0,a.jsxs)(G,{title:null!=es?es:"LTE Signal",description:"Signal quality, carrier aggregation, and WAN connection summary",action:(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsxs)(Z.u,{children:[(0,a.jsx)(Z.aJ,{asChild:!0,children:(0,a.jsx)(x.z,{type:"button",variant:"ghost",size:"icon",onClick:J,"aria-label":"View SIM information",disabled:!Q,children:(0,a.jsx)(n.Z,{className:"h-4 w-4"})})}),(0,a.jsx)(Z._v,{side:"bottom",align:"end",className:"text-xs",children:"View SIM information"})]})}),children:[(0,a.jsxs)(_,{defaultValue:"signal",className:"space-y-3",children:[(0,a.jsxs)(F,{className:"inline-flex w-full items-center gap-1 rounded-lg border border-neutral-800 bg-neutral-900/60 p-0.5 text-xs font-semibold uppercase tracking-wide",children:[(0,a.jsx)(z,{value:"signal",className:"flex-1 rounded-md px-3 py-1 text-neutral-400 transition hover:text-white data-[state=active]:bg-neutral-800 data-[state=active]:text-white",children:"Signal"}),(0,a.jsx)(z,{value:"ca",className:"flex-1 rounded-md px-3 py-1 text-neutral-400 transition hover:text-white data-[state=active]:bg-neutral-800 data-[state=active]:text-white",children:"Carrier Agg."})]}),(0,a.jsxs)(W,{value:"signal",className:"space-y-3",children:[(0,a.jsx)("div",{className:"grid grid-cols-1 gap-2 text-sm text-neutral-400",children:(0,a.jsx)("span",{className:"font-semibold",children:"Main Signal"})}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-2 text-xs text-neutral-400",children:K.map(e=>{let{label:t,value:l}=e;return(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsx)("span",{className:"font-semibold text-neutral-500",children:t}),(0,a.jsx)("span",{className:"text-sm text-neutral-200",children:null!=l?l:"—"})]},t)})}),(0,a.jsx)("hr",{className:"border-neutral-800"}),(0,a.jsx)("div",{className:"space-y-3 text-xs text-neutral-400",children:ee.map(e=>{let{label:t,value:l,percent:n}=e;return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mb-1.5 flex items-center justify-between",children:[(0,a.jsx)("span",{className:"font-semibold text-neutral-500",children:t}),(0,a.jsx)("span",{className:"text-sm text-neutral-200",children:l})]}),(0,a.jsx)(p.E,{value:n,className:"h-1.5 bg-neutral-800"})]},t)})})]}),(0,a.jsx)(W,{value:"ca",className:"space-y-3",children:en?(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,a.jsx)(q,{title:"Downlink",carriers:et}),(0,a.jsx)(q,{title:"Uplink",carriers:el})]}):(0,a.jsx)("p",{className:"text-xs text-neutral-500",children:"Carrier aggregation data is not available."})})]}),(0,a.jsx)("div",{className:"space-y-3 text-xs text-muted-foreground",children:(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(ea,{label:"External IPv4",value:ei}),(0,a.jsx)(ea,{label:"External IPv6",value:eo}),(0,a.jsx)(ea,{label:"Gateway",value:ex}),(0,a.jsx)(ea,{label:"DNSv4",value:ec}),(0,a.jsx)(ea,{label:"DNSv6",value:eu}),(0,a.jsx)(ea,{label:"Status",value:em}),(0,a.jsx)(ea,{label:"Session",value:ef})]})})]})}function $(e){var t,l,n,s,d,r,i;let{deviceStatus:o}=e,x=null!==(s=null==o?void 0:o.UpTime)&&void 0!==s?s:0,m=null!==(d=null==o?void 0:null===(t=o.cpu_usageinfo)||void 0===t?void 0:t.CPUUsage)&&void 0!==d?d:null,v=null!==(r=null==o?void 0:null===(l=o.mem_info)||void 0===l?void 0:l.Total)&&void 0!==r?r:0,f=null!==(i=null==o?void 0:null===(n=o.mem_info)||void 0===n?void 0:n.Free)&&void 0!==i?i:0,g=v>0?Math.round((v-f)/v*100):0;return(0,a.jsx)(G,{title:"Device Health",description:"Runtime statistics reported by the modem",children:(0,a.jsxs)("div",{className:"grid gap-3",children:[(0,a.jsx)(ea,{label:"Uptime",value:(0,c.d5)(x)}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,a.jsx)("span",{className:"font-semibold text-muted-foreground",children:"CPU Usage"}),(0,a.jsxs)(u.C,{variant:"outline",className:"font-semibold",children:[m,"%"]})]}),(0,a.jsx)(p.E,{value:m,className:"h-2"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,a.jsx)("span",{className:"font-semibold text-muted-foreground",children:"Memory Usage"}),(0,a.jsxs)(u.C,{variant:"outline",className:"font-semibold",children:[g,"%"]})]}),(0,a.jsx)(p.E,{value:g,className:"h-2"})]})]})})}function J(e){if(0===e.length)return{rows:[],totals:{download:"0 B",upload:"0 B",combined:"0 B"}};let t=e.reduce((e,t)=>e+t.downloadBytes,0),l=e.reduce((e,t)=>e+t.uploadBytes,0),a=e.reduce((e,t)=>e+t.combinedBytes,0);return{rows:e.map((t,l)=>{let n=e[l+1],s=Q(t.combinedBytes,null==n?void 0:n.combinedBytes,null==n?void 0:n.label),d=Q(t.downloadBytes,null==n?void 0:n.downloadBytes,null==n?void 0:n.label),r=Q(t.uploadBytes,null==n?void 0:n.uploadBytes,null==n?void 0:n.label);return{key:t.key,label:t.label,download:(0,c.td)(t.downloadBytes),upload:(0,c.td)(t.uploadBytes),combined:(0,c.td)(t.combinedBytes),share:(0,c.rl)(a>0?t.combinedBytes/a*100:0),downloadBytes:t.downloadBytes,uploadBytes:t.uploadBytes,combinedBytes:t.combinedBytes,previousCombinedBytes:null==n?void 0:n.combinedBytes,downloadTrend:d,uploadTrend:r,trend:s}}),totals:{download:(0,c.td)(t),upload:(0,c.td)(l),combined:(0,c.td)(a)}}}function Q(e,t,l){let n,i,o;if(null==t)return null;let u=e-t,x=0===u?"flat":u>0?"up":"down",m=Math.abs(u),v=t>0?m/t*100:null,p="down"===x?"-":"up"===x?"+":"",f="flat"===x?"0":"".concat(p).concat((0,c.td)(m)),g=null===v||"flat"===x?void 0:"".concat(p).concat(v.toFixed(1),"%");"up"===x?(n=(0,a.jsx)(s.Z,{className:"h-3.5 w-3.5 text-emerald-400"}),i="text-emerald-400",o="Naik"):"down"===x?(n=(0,a.jsx)(d.Z,{className:"h-3.5 w-3.5 text-rose-400"}),i="text-rose-400",o="Turun"):(n=(0,a.jsx)(r.Z,{className:"h-3.5 w-3.5 text-muted-foreground"}),i="text-muted-foreground",o="Tidak berubah");let h=null!=l?l:"periode sebelumnya",b="flat"===x?"".concat(o," dibanding ").concat(h):"".concat(o," ").concat((0,c.td)(m)).concat(g?" (".concat(g,")"):""," dibanding ").concat(h);return{icon:n,deltaLabel:f,percentLabel:g,className:i,tooltip:b,previousLabel:h}}function Y(e){let{dailyUsage:t}=e,l=(0,o.useMemo)(()=>Array.isArray(null==t?void 0:t.daily_data)?t.daily_data:Array.isArray(null==t?void 0:t.last_7_days)?t.last_7_days:[],[t]),n=(0,o.useMemo)(()=>l.map(e=>{var t,l,a,n,s,d;let r=null==e?void 0:e.date;if(!r)return null;let i=new Date("".concat(r,"T00:00:00Z"));return Number.isNaN(i.getTime())?null:{key:r,date:i,downloadBytes:null!==(n=null==e?void 0:null===(t=e.download)||void 0===t?void 0:t.raw_bytes)&&void 0!==n?n:0,uploadBytes:null!==(s=null==e?void 0:null===(l=e.upload)||void 0===l?void 0:l.raw_bytes)&&void 0!==s?s:0,combinedBytes:null!==(d=null==e?void 0:null===(a=e.combined)||void 0===a?void 0:a.raw_bytes)&&void 0!==d?d:0}}).filter(e=>null!==e).sort((e,t)=>t.date.getTime()-e.date.getTime()),[l]),s=(0,o.useMemo)(()=>n.slice(0,7).map(e=>({key:e.key,label:(0,c.p6)(e.key),sortValue:e.date.getTime(),downloadBytes:e.downloadBytes,uploadBytes:e.uploadBytes,combinedBytes:e.combinedBytes})),[n]),d=(0,o.useMemo)(()=>{let e=new Map;return n.forEach(t=>{let l=function(e){let t=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate())),l=t.getUTCDay();return t.setUTCDate(t.getUTCDate()-(l+6)%7),t}(t.date),a=new Date(l);a.setUTCDate(a.getUTCDate()+6);let n=l.toISOString().slice(0,10);e.has(n)||e.set(n,{key:n,label:"".concat((0,c.p6)(n)," – ").concat((0,c.p6)(a.toISOString().slice(0,10))),sortValue:l.getTime(),downloadBytes:0,uploadBytes:0,combinedBytes:0});let s=e.get(n);s.downloadBytes+=t.downloadBytes,s.uploadBytes+=t.uploadBytes,s.combinedBytes+=t.combinedBytes}),Array.from(e.values()).sort((e,t)=>t.sortValue-e.sortValue).slice(0,8)},[n]),r=(0,o.useMemo)(()=>{let e=new Map;return n.forEach(t=>{var l;let a=new Date(Date.UTC((l=t.date).getUTCFullYear(),l.getUTCMonth(),1)),n="".concat(a.getUTCFullYear(),"-").concat(String(a.getUTCMonth()+1).padStart(2,"0"));e.has(n)||e.set(n,{key:n,label:a.toLocaleDateString("id-ID",{month:"long",year:"numeric"}),sortValue:a.getTime(),downloadBytes:0,uploadBytes:0,combinedBytes:0});let s=e.get(n);s.downloadBytes+=t.downloadBytes,s.uploadBytes+=t.uploadBytes,s.combinedBytes+=t.combinedBytes}),Array.from(e.values()).sort((e,t)=>t.sortValue-e.sortValue).slice(0,12)},[n]),i=(0,o.useMemo)(()=>J(s),[s]),u=(0,o.useMemo)(()=>J(d),[d]),x=(0,o.useMemo)(()=>J(r),[r]),m=(0,o.useMemo)(()=>{if(n.length<2)return null;let[e,t]=n;return Q(e.combinedBytes,t.combinedBytes,(0,c.p6)(t.key))},[n]),v=(0,o.useMemo)(()=>{if(d.length<2)return null;let[e,t]=d;return Q(e.combinedBytes,t.combinedBytes,t.label)},[d]),p=(0,o.useMemo)(()=>{if(r.length<2)return null;let[e,t]=r;return Q(e.combinedBytes,t.combinedBytes,t.label)},[r]),f=(0,o.useMemo)(()=>[{key:"daily",label:"Harian",dataset:i,emptyMessage:"Belum ada data harian yang terekam."},{key:"weekly",label:"Mingguan",dataset:u,emptyMessage:"Belum ada agregasi mingguan yang tersedia."},{key:"monthly",label:"Bulanan",dataset:x,emptyMessage:"Belum ada agregasi bulanan yang tersedia."}],[i,u,x]);return(0,a.jsx)(G,{title:"Data Usage",description:"Breakdown of modem traffic across daily, weekly, and monthly windows",action:(0,a.jsx)(es,{href:"/report",children:"Full report"}),children:(0,a.jsxs)(_,{defaultValue:"daily",className:"space-y-4",children:[(0,a.jsx)(F,{className:"inline-flex w-full items-center gap-1 rounded-lg border border-border/70 bg-muted/20 p-0.5 text-xs font-semibold uppercase tracking-wide",children:f.map(e=>(0,a.jsx)(z,{value:e.key,className:"flex-1 rounded-md px-3 py-1 text-muted-foreground transition hover:text-foreground data-[state=active]:bg-muted data-[state=active]:text-foreground",children:e.label},e.key))}),f.map(e=>{let t="daily"===e.key?m:"weekly"===e.key?v:p;return(0,a.jsxs)(W,{value:e.key,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-3 text-xs text-muted-foreground",children:[(0,a.jsx)(en,{label:"Download",value:e.dataset.totals.download,tone:"blue",customClass:"text-center"}),(0,a.jsx)(en,{label:"Upload",value:e.dataset.totals.upload,tone:"green",customClass:"text-center"}),(0,a.jsx)(en,{label:"Total",value:e.dataset.totals.combined,tone:"neutral",customClass:"text-center"})]}),t?(0,a.jsxs)("div",{className:"flex gap-1 rounded-lg border border-border/60 bg-muted/30 px-3 py-2 text-xs flex-row items-center justify-between",children:[(0,a.jsxs)(Z.u,{children:[(0,a.jsx)(Z.aJ,{asChild:!0,children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[t.icon,(0,a.jsxs)("span",{className:"font-semibold ".concat(t.className),children:[t.deltaLabel,t.percentLabel?" (".concat(t.percentLabel,")"):""]})]})}),(0,a.jsx)(Z._v,{children:t.tooltip})]}),(0,a.jsxs)("span",{className:"text-muted-foreground",children:["Dibanding ",t.previousLabel]})]}):null,(0,a.jsx)("div",{className:"overflow-hidden rounded-lg border border-border/50",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-border/60 text-xs sm:text-sm",children:[(0,a.jsx)("thead",{className:"bg-muted/50 text-muted-foreground",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-4 py-2 text-left font-semibold",children:"Periode"}),(0,a.jsx)("th",{className:"px-4 py-2 text-right font-semibold",children:"Download"}),(0,a.jsx)("th",{className:"px-4 py-2 text-right font-semibold",children:"Upload"}),(0,a.jsx)("th",{className:"px-4 py-2 text-right font-semibold",children:"Total"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-border/60 text-foreground",children:0===e.dataset.rows.length?(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:5,className:"px-4 py-4 text-center text-xs text-muted-foreground",children:e.emptyMessage})}):e.dataset.rows.map(t=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"px-4 py-2",children:t.label}),(0,a.jsx)("td",{className:"px-4 py-2 text-right",children:t.downloadTrend?(0,a.jsxs)(Z.u,{children:[(0,a.jsx)(Z.aJ,{asChild:!0,children:(0,a.jsxs)("span",{className:"inline-flex items-center justify-end gap-1",children:[(0,a.jsx)("span",{className:t.downloadTrend.className,children:t.downloadTrend.icon}),(0,a.jsx)("span",{className:"text-blue-400",children:t.download})]})}),(0,a.jsx)(Z._v,{children:t.downloadTrend.tooltip})]}):(0,a.jsx)("span",{className:"text-blue-400",children:t.download})}),(0,a.jsx)("td",{className:"px-4 py-2 text-right",children:t.uploadTrend?(0,a.jsxs)(Z.u,{children:[(0,a.jsx)(Z.aJ,{asChild:!0,children:(0,a.jsxs)("span",{className:"inline-flex items-center justify-end gap-1",children:[(0,a.jsx)("span",{className:t.uploadTrend.className,children:t.uploadTrend.icon}),(0,a.jsx)("span",{className:"text-emerald-400",children:t.upload})]})}),(0,a.jsx)(Z._v,{children:t.uploadTrend.tooltip})]}):(0,a.jsx)("span",{className:"text-emerald-400",children:t.upload})}),(0,a.jsx)("td",{className:"px-4 py-2 text-right",children:t.trend?(0,a.jsxs)(Z.u,{children:[(0,a.jsx)(Z.aJ,{asChild:!0,children:(0,a.jsxs)("span",{className:"inline-flex items-center justify-end gap-1",children:[(0,a.jsx)("span",{className:t.trend.className,children:t.trend.icon}),t.combined]})}),(0,a.jsx)(Z._v,{children:t.trend.tooltip})]}):(0,a.jsx)("span",{className:"inline-flex justify-end",children:t.combined})})]},"".concat(e.key,"-").concat(t.key)))})]})})]},e.key)})]})})}function q(e){let{title:t,carriers:l}=e;return l&&0!==l.length?(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:t}),(0,a.jsx)("ul",{className:"mt-3 space-y-3 text-xs text-muted-foreground",children:l.map((e,l)=>{var n,s,d,r;return(0,a.jsx)("li",{className:"rounded-lg border border-border/60 bg-muted/40 p-3",children:(0,a.jsxs)("div",{className:"grid grid-cols-[1fr,auto] gap-2",children:[(0,a.jsx)("span",{children:"Band"}),(0,a.jsx)("span",{className:"text-foreground",children:null!==(n=e.ScellBand)&&void 0!==n?n:"—"}),(0,a.jsx)("span",{children:"Bandwidth"}),(0,a.jsx)("span",{className:"text-foreground",children:null!==(s=e.ScellBandwidth)&&void 0!==s?s:"—"}),(0,a.jsx)("span",{children:"PCI"}),(0,a.jsx)("span",{className:"text-foreground",children:null!==(d=e.PhysicalCellID)&&void 0!==d?d:"—"}),(0,a.jsx)("span",{children:"EARFCN"}),(0,a.jsx)("span",{className:"text-foreground",children:null!==(r=e.ScellChannel)&&void 0!==r?r:"—"})]})},"".concat(t,"-").concat(l))})})]}):(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:t}),(0,a.jsx)("p",{className:"mt-2 text-xs text-muted-foreground",children:"No carriers detected."})]})}function K(e){let{ledEnabled:t,ledBusy:l,onToggleLed:n,onRenewIp:s,renewing:d,onReboot:r,rebooting:i,onOpenWanDetails:o}=e;return(0,a.jsx)(G,{title:"Controls & Actions",description:"Operate modem features and shortcuts",children:(0,a.jsxs)("div",{className:"space-y-4 text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between rounded-lg border border-border/60 bg-muted/40 p-4",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("p",{className:"text-sm font-semibold text-foreground",children:"Device LEDs"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Toggle the enclosure indicators for a quieter environment."})]}),(0,a.jsx)("div",{className:"flex items-center gap-3",children:(0,a.jsx)(f.r,{checked:!!t,onCheckedChange:e=>n(e),disabled:l,"aria-label":"Toggle device LEDs"})})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(x.z,{onClick:s,disabled:d,className:"w-full justify-start",children:d?"Renewing…":"Renew WAN IP"}),(0,a.jsx)(x.z,{onClick:r,disabled:i,variant:"destructive",className:"w-full justify-start",children:i?"Rebooting…":"Reboot modem"}),(0,a.jsx)(x.z,{variant:"outline",onClick:o,className:"w-full justify-start",children:"WAN details"})]})]})})}function ee(e){var t,l,n,s,d,r;let{wlan24:i,wlan5:o}=e,x=[{label:"2.4 GHz",config:null!==(s=null==i?void 0:null===(t=i.wlan_config_glb)||void 0===t?void 0:t[0])&&void 0!==s?s:null},{label:"5 GHz",config:null!==(r=null!==(d=null==o?void 0:null===(l=o.wlan_config_glb11ac)||void 0===l?void 0:l[0])&&void 0!==d?d:null==o?void 0:null===(n=o.wlan_config_glb)||void 0===n?void 0:n[0])&&void 0!==r?r:null}];return(0,a.jsx)(G,{title:"Wi-Fi Radios",description:"SSID, channel, and security overview",children:(0,a.jsx)("div",{className:"space-y-3 text-sm text-muted-foreground",children:x.map(e=>{var t,l,n,s;let{label:d,config:r}=e,i=(0,c.sw)(null==r?void 0:r.Enable);return(0,a.jsxs)("div",{className:"rounded-lg border border-border/60 bg-muted/40 px-4 py-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-semibold text-foreground",children:null!==(t=null==r?void 0:r.SSID)&&void 0!==t?t:"—"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:d})]}),(0,a.jsx)(u.C,{variant:i?"secondary":"outline",className:i?"bg-emerald-500/15 text-emerald-400":"text-muted-foreground",children:i?"Enabled":"Disabled"})]}),(0,a.jsxs)("dl",{className:"mt-3 grid grid-cols-2 gap-x-4 gap-y-1 text-xs",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("dt",{children:"Mode"}),(0,a.jsx)("dd",{className:"text-foreground",children:null!==(l=null==r?void 0:r.X_ALU_COM_Mode)&&void 0!==l?l:"—"})]}),(0,a.jsxs)("div",{className:"ml-auto text-right",children:[(0,a.jsx)("dt",{children:"Channel"}),(0,a.jsx)("dd",{className:"text-foreground",children:null!==(n=null==r?void 0:r.Channel)&&void 0!==n?n:"Auto"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("dt",{children:"Bandwidth"}),(0,a.jsx)("dd",{className:"text-foreground",children:null!==(s=null==r?void 0:r.X_ALU_COM_Bandwidth)&&void 0!==s?s:"—"})]}),(0,a.jsxs)("div",{className:"ml-auto text-right",children:[(0,a.jsx)("dt",{children:"Security"}),(0,a.jsx)("dd",{className:"text-foreground",children:(0,c.FM)(r)})]})]})]},d)})})})}function et(e){let{preloginStatus:t}=e,l=(Array.isArray(null==t?void 0:t.device_cfg)?t.device_cfg:[]).filter(e=>1===e.Active),n=l.filter(e=>"Ethernet"===e.InterfaceType).length,s=l.filter(e=>"Ethernet"!==e.InterfaceType).length,d=l.slice(0,6).map(e=>{var t,l,a;return{id:null!==(a=null!==(l=null!==(t=e.MACAddress)&&void 0!==t?t:e.ID)&&void 0!==l?l:e.HostName)&&void 0!==a?a:Math.random().toString(36),name:e.HostName||e.Alias||"Unknown device",ip:e.IPAddress||"—",iface:e.InterfaceType||"Unknown"}});return(0,a.jsxs)(G,{title:"Connected Devices",description:"Active clients reported by the modem",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-center text-sm text-muted-foreground",children:[(0,a.jsxs)("div",{className:"rounded-lg border border-border/60 bg-muted/40 p-4",children:[(0,a.jsx)("p",{className:"text-xs uppercase tracking-wide",children:"Ethernet"}),(0,a.jsx)("p",{className:"mt-2 text-2xl font-semibold text-foreground",children:n})]}),(0,a.jsxs)("div",{className:"rounded-lg border border-border/60 bg-muted/40 p-4",children:[(0,a.jsx)("p",{className:"text-xs uppercase tracking-wide",children:"Wi-Fi"}),(0,a.jsx)("p",{className:"mt-2 text-2xl font-semibold text-foreground",children:s})]})]}),(0,a.jsx)("div",{className:"mt-4 space-y-2 text-xs",children:0===d.length?(0,a.jsx)("p",{className:"text-muted-foreground",children:"No active clients detected."}):d.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between rounded-lg border border-border/60 bg-muted/40 px-3 py-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-semibold text-foreground",children:e.name}),(0,a.jsx)("p",{className:"text-[11px] text-muted-foreground",children:e.ip})]}),(0,a.jsx)(u.C,{variant:"outline",className:"text-[11px] uppercase",children:e.iface})]},e.id))})]})}function el(e){let{dataExpired:t,onExtendThirtyDays:l,onSubmit:n,onDateChange:s,dateValue:d,busy:r}=e,i=(0,o.useMemo)(()=>{if(!t)return{label:"Not configured",tone:"neutral"};let e=new Date(1e3*t),l=new Date,a=Math.floor((e.getTime()-l.getTime())/864e5);return a<0?{label:"".concat((0,c.p6)(e.toISOString().slice(0,10))," (expired ").concat(Math.abs(a)," day").concat(-1===a?"":"s"," ago)"),tone:"danger"}:a<=3?{label:"".concat((0,c.p6)(e.toISOString().slice(0,10))," (").concat(a," day").concat(1===a?"":"s"," remaining)"),tone:"warning"}:{label:"".concat((0,c.p6)(e.toISOString().slice(0,10))," (").concat(a," day").concat(1===a?"":"s"," remaining)"),tone:"success"}},[t]),u="danger"===i.tone?"text-red-400":"warning"===i.tone?"text-yellow-400":"success"===i.tone?"text-green-400":"text-neutral-300";return(0,a.jsxs)(G,{title:"Data Expiration",description:"Manage how long modem traffic counters remain valid",children:[(0,a.jsx)("p",{className:"text-sm font-semibold ".concat(u),children:i.label}),(0,a.jsxs)("form",{className:"mt-4 space-y-4",onSubmit:n,children:[(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsx)("span",{className:"font-semibold text-muted-foreground",children:"Expiration date"}),(0,a.jsx)(v.I,{type:"date",value:d,onChange:e=>s(e.target.value),disabled:r})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(x.z,{type:"button",onClick:l,disabled:r,variant:"secondary",className:"w-full",children:"Extend 30 Days"}),(0,a.jsx)(x.z,{type:"submit",disabled:r||!d,className:"w-full",children:"Save Date"})]})]})]})}function ea(e){let{label:t,value:l,highlight:n}=e;return(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[(0,a.jsx)("span",{className:"font-semibold",children:t}),(0,a.jsx)("span",{className:n?"text-foreground":"text-muted-foreground",children:l})]})}function en(e){let{label:t,value:l,tone:n,customClass:s}=e;return(0,a.jsxs)("div",{className:"flex h-full flex-col justify-center ".concat(s),children:[(0,a.jsx)("p",{className:"text-[11px] font-semibold uppercase tracking-wide text-muted-foreground",children:t}),(0,a.jsx)("p",{className:"mt-1 text-base font-semibold ".concat("blue"===n?"text-blue-400":"green"===n?"text-emerald-400":"text-foreground"),children:l})]})}function es(e){let{href:t,children:l}=e;return(0,a.jsx)(x.z,{asChild:!0,variant:"outline",size:"sm",className:"gap-2",children:(0,a.jsx)(i.default,{href:t,children:l})})}var ed=l(92896),er=l(29006),ei=l(45855);function eo(){let{data:e,loading:t,error:l,pollSeconds:n,lastUpdated:s,ledEnabled:d,ledBusy:r,handleToggleLed:i,handleRenewIp:o,renewing:c,handleReboot:u,rebooting:x,openWanDetails:m,openSimInfo:v,handleExtendData:p,handleCustomExpirySubmit:f,setCustomExpiry:g,customExpiry:h,expiryBusy:b}=(0,ed.Q)();return(0,a.jsxs)(er.V,{children:[(0,a.jsx)("section",{className:"space-y-4",children:(0,a.jsx)(ei.m,{eyebrow:"Nokia FastMile 5G Gateway 2",title:"Modem Dashboard",description:(0,a.jsxs)(a.Fragment,{children:["Live signal metrics, traffic usage, device health, and connected clients. Data refreshes automatically every ",n," second",1===n?"":"s","."]})})}),l&&(0,a.jsx)("div",{className:"rounded-lg border border-red-500/60 bg-red-500/10 px-4 py-3 text-sm text-red-200",children:l}),t?(0,a.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:Array.from({length:6}).map((e,t)=>(0,a.jsx)("div",{className:"h-48 animate-pulse rounded-xl border border-neutral-800 bg-neutral-900/60"},t))}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(H,{data:e,ledEnabled:d,ledBusy:r,onToggleLed:i,onRenewIp:o,renewing:c,onReboot:u,rebooting:x,onOpenWanDetails:m,onExtendData:p,onCustomExpirySubmit:f,onCustomExpiryChange:e=>g(e),customExpiry:h,expiryBusy:b,onOpenSimInfo:v}),(0,a.jsxs)("footer",{className:"flex flex-col gap-1 text-xs text-neutral-500 md:flex-row md:items-center md:justify-between",children:[(0,a.jsxs)("span",{children:["Last updated:"," ",s?new Date(s).toLocaleString():"—"]}),(0,a.jsxs)("span",{children:["Poll interval: ",n," second",1===n?"":"s"]})]})]})]})}},32759:function(e,t,l){"use strict";l.d(t,{E:function(){return r}});var a=l(57437),n=l(60610),s=l(2265),d=l(94508);let r=s.forwardRef((e,t)=>{let{className:l,value:s=0,...r}=e;return(0,a.jsx)(n.fC,{ref:t,className:(0,d.cn)("relative h-2 w-full overflow-hidden rounded-full bg-neutral-800",l),...r,children:(0,a.jsx)(n.z$,{className:"h-full w-full flex-1 bg-blue-500 transition-transform",style:{transform:"translateX(-".concat(100-s,"%)")}})})});r.displayName=n.fC.displayName},69430:function(e,t,l){"use strict";l.d(t,{Z:function(){return a}});let a=(0,l(79205).Z)("arrow-down-right",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]])},17580:function(e,t,l){"use strict";l.d(t,{Z:function(){return a}});let a=(0,l(79205).Z)("arrow-up-right",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]])},21047:function(e,t,l){"use strict";l.d(t,{Z:function(){return a}});let a=(0,l(79205).Z)("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]])},60610:function(e,t,l){"use strict";l.d(t,{fC:function(){return j},z$:function(){return y}});var a=l(2265),n=l(73966),s=l(66840),d=l(57437),r="Progress",[i,o]=(0,n.b)(r),[c,u]=i(r),x=a.forwardRef((e,t)=>{var l,a,n,r;let{__scopeProgress:i,value:o=null,max:u,getValueLabel:x=p,...m}=e;(u||0===u)&&!h(u)&&console.error((l="".concat(u),a="Progress","Invalid prop `max` of value `".concat(l,"` supplied to `").concat(a,"`. Only numbers greater than 0 are valid max values. Defaulting to `").concat(100,"`.")));let v=h(u)?u:100;null===o||b(o,v)||console.error((n="".concat(o),r="Progress","Invalid prop `value` of value `".concat(n,"` supplied to `").concat(r,"`. The `value` prop must be:\n  - a positive number\n  - less than the value passed to `max` (or ").concat(100," if no `max` prop is set)\n  - `null` or `undefined` if the progress is indeterminate.\n\nDefaulting to `null`.")));let j=b(o,v)?o:null,y=g(j)?x(j,v):void 0;return(0,d.jsx)(c,{scope:i,value:j,max:v,children:(0,d.jsx)(s.WV.div,{"aria-valuemax":v,"aria-valuemin":0,"aria-valuenow":g(j)?j:void 0,"aria-valuetext":y,role:"progressbar","data-state":f(j,v),"data-value":null!=j?j:void 0,"data-max":v,...m,ref:t})})});x.displayName=r;var m="ProgressIndicator",v=a.forwardRef((e,t)=>{var l;let{__scopeProgress:a,...n}=e,r=u(m,a);return(0,d.jsx)(s.WV.div,{"data-state":f(r.value,r.max),"data-value":null!==(l=r.value)&&void 0!==l?l:void 0,"data-max":r.max,...n,ref:t})});function p(e,t){return"".concat(Math.round(e/t*100),"%")}function f(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function g(e){return"number"==typeof e}function h(e){return g(e)&&!isNaN(e)&&e>0}function b(e,t){return g(e)&&!isNaN(e)&&e<=t&&e>=0}v.displayName=m;var j=x,y=v}},function(e){e.O(0,[715,897,896,220,971,117,744],function(){return e(e.s=57162)}),_N_E=e.O()}]);